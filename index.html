<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="about.css" />
    <link rel="stylesheet" href="carousel.css" />
    <link rel="stylesheet" href="tags.css" />
    <title>Document</title>
  </head>

  <body>
    <header>
      <div class="nav">
        <div class="logo"><img src="logo.png" alt="Logo" class="logo" /></div>
        <nav class="menu">
          <a href="index.html" class="active">About</a>
          <a href="apply.html">Apply</a>
          <a href="news.html?page=1">News</a>
        </nav>
      </div>
    </header>
    <div class="center-wrapper">
      <section id="obrazky">
        <img src="ESPSEKE TITLE.png" id="title" alt="" />
        <img src="cypher.png" id="cifer" alt="" />
      </section>
    </div>
    <section class="gaming-showcase">
      <div class="gaming-showcase__text-block">
        <h1 class="gaming-showcase__title">
          Zdokonaľujeme sa každý deň v týchto hrách:
        </h1>
      </div>

      <div class="gaming-showcase__content">
        <div class="gaming-showcase__logos">
          <img
            src="valo logo.png"
            alt="Valorant"
            class="gaming-showcase__logo"
            id="valo"
          />
          <img
            src="cslogo.png"
            alt="CS:GO"
            class="gaming-showcase__logo"
            id="cs"
          />
          <img
            src="league of legends.png"
            alt="League of Legends"
            class="gaming-showcase__logo"
            id="lol"
          />
        </div>
      </div>
    </section>
    <section id="latest_news">
      <div class="carousel" mask id="carousel-news">
        <script>
  fetch("http://100.68.218.117:3000/api/news?page=1&pageSize=6")
    .then((res) => res.json())
    .then((data) => {
      const news = data.data;

      const container = document.getElementById("carousel-news");
      container.innerHTML = news
        .map((article) => {
          const imageUrl =
            "http://100.68.218.117:1337" +
            (article.cover?.formats?.medium?.url ||
              article.cover?.url ||
              "/placeholder.jpg");
          const tags = Array.isArray(article.tags?.tags)
            ? article.tags.tags
            : [];

          return `
            <article>
              <img src="${imageUrl}" alt="">
              <h2>${article.Title}</h2>
              <div class="carousel-tags">
                ${tags
                  .map((tag) => {
                    let cls = "tag";
                    if (tag.toLowerCase().includes("event")) cls += " event";
                    if (tag.toLowerCase().includes("update")) cls += " update";
                    if (tag.toLowerCase().includes("amogus")) cls += " amogus";
                    if (tag.toLowerCase().includes("league")) cls += " league";
                    return `<span class="${cls}">${tag}</span>`;
                  })
                  .join(" ")}
              </div>
              <div class="carousel-content">
                <p>${article.summary}</p>
                <a href="news-detail.html?id=${article.documentId}">Read more</a>
              </div>
            </article>
          `;
        })
        .join("");
    })
    .catch((err) => {
      console.error("Error fetching articles:", err);
    });
</script>

      </div>
    </section>
    <section id="instagram">
<!-- LightWidget WIDGET --><script src="https://cdn.lightwidget.com/widgets/lightwidget.js"></script><iframe src="//lightwidget.com/widgets/d30856b606405f79975861feb4a95f5d.html" scrolling="no" allowtransparency="true" class="lightwidget-widget" style="width:60%;border:0;overflow:hidden;"></iframe>
    </section>
  </body>
<footer></footer>
</html>
