  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>
      <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="news.css">
      <link rel="stylesheet" href="tags.css">
      <script src="inverter.js"></script>
  </head>
  <body>
      <header>
          <div class="nav">
            <div class="logo"><img src="logo.png" alt="Logo" class="logo" /></div>
            <nav class="menu">
              <a href="index.html">About</a>
              <a href="apply.html">Apply</a>
              <a href="#" class="active"">News</a>
            </nav>
          </div>
        </header>
        <section id="news">
          <h1 class="page-title">NOVINKY</h1>

        <div class="site-container">
          <div class="background-column">
            <!-- Can be empty or have a logo/decoration -->
          </div>
          
          <div class="news-column" id="news-list">
            <!-- News will be loaded here -->
          </div>
          <script>
fetch('http://127.0.0.1/joomla/api/index.php/v1/content/articles', {
  headers: {
    'Authorization': 'Basic YmFtYmkxNTpjMmhoTWpVMk9qZzFPVG8zT0RobU1qZGxNbVF4TlRNd1lqYzROalZpTkRoaFpXWmxOekJqWXpRNU1UWTBOV0UwT0dOa04yTmhOakE1WWpBelpHWXpPVFJsTm1Vek9EYzBaR1E0'
  }
})
  .then(res => {
    if (!res.ok) {
      throw new Error(`HTTP error! Status: ${res.status}`);
    }
    return res.json();
  })
  .then(response => {
    const news = response.data;
    const container = document.getElementById('news-list');
    container.innerHTML = news.map(article =>
      `<div class="news-card">
        <a href="news-detail.html?id=${article.id}">
          <img src="${article.images?.image_intro || 'placeholder.jpg'}" onerror="this.src='placeholder.jpg';" />
        </a>
        <div class="news-card-content">
          <h2>${article.title}</h2>
          ${(article.tags || []).map(tag => {
            let cls = 'tag';
            const t = tag.title.toLowerCase();
            if (t.includes('event')) cls += ' event';
            if (t.includes('update')) cls += ' update';
            if (t.includes('game')) cls += ' game';
            if (t.includes('valorant')) cls += ' valorant';
            if (t.includes('csgo')) cls += ' csgo';
            if (t.includes('league')) cls += ' league';
            return `<span class="${cls}">${tag.title}</span>`;
          }).join(' ')}
          <p>${article.introtext}</p>
        </div>
      </div>`
    ).join('');
  })
  .catch(error => {
    console.error("Failed to fetch articles:", error);
    document.getElementById('news-list').innerHTML = "<p>Chyba pri načítaní noviniek.</p>";
  });
</script>
        </div>
      </section>
      </body>
      </html>
  </body>
  </html>