  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>
      <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="news.css">
      <link rel="stylesheet" href="tags.css">
      <script src="inverter.js"></script>
  </head>
  <body>
      <header>
          <div class="nav">
            <div class="logo"><img src="logo.png" alt="Logo" class="logo" /></div>
            <nav class="menu">
              <a href="index.html">About</a>
              <a href="apply.html">Apply</a>
              <a href="#" class="active"">News</a>
            </nav>
          </div>
        </header>
        <section id="news">
          <h1 class="page-title">NOVINKY</h1>

        <div class="site-container">
          <div class="background-column">
            <!-- Can be empty or have a logo/decoration -->
          </div>
          
          <div class="news-column" id="news-list">
            <!-- News will be loaded here -->
          </div>
          <script>
fetch('http://localhost:1337/api/articles?populate=cover&sort=createdAt:desc')
  .then(res => res.json())
  .then(json => {
    const news = json.data.map(item => {
      // Base URL for images
      const baseUrl = 'http://localhost:1337';

      // Cover image fallback logic
      const cover = item.cover || {};
      const coverUrl = cover.url ? baseUrl + cover.url : 'placeholder.jpg';

      // Optional: use medium size if available
      const mediumCoverUrl = cover.formats?.medium?.url ? baseUrl + cover.formats.medium.url : coverUrl;

      const altText = cover.alternativeText || 'Article cover image';

      return {
        id: item.id,
        documentId: item.documentId || '',
        title: item.Title || 'No title',
        summary: item.summary || '',
        tags: Array.isArray(item.tags?.tags) ? item.tags.tags : [],
        image: mediumCoverUrl,
        altText
      };
    });

    const container = document.getElementById('news-list');
    container.innerHTML = news.map(article =>
      `<div class="news-card">
        <a href="news-detail.html?id=${article.documentId}">
          <img src="${article.image}" alt="${article.altText}" onerror="this.src='placeholder.jpg';" />
        </a>
        <div class="news-card-content">
          <h2>${article.title}</h2>
          ${(article.tags || []).map(tag => {
            let cls = 'tag';
            if (tag.toLowerCase().includes('event')) cls += ' event';
            if (tag.toLowerCase().includes('update')) cls += ' update';
            if (tag.toLowerCase().includes('game')) cls += ' game';
            if (tag.toLowerCase().includes('valorant')) cls += ' valorant';
            if (tag.toLowerCase().includes('csgo')) cls += ' csgo';
            if (tag.toLowerCase().includes('league')) cls += ' league';
            return `<span class="${cls}">${tag}</span>`;
          }).join(' ')}
          <p>${article.summary}</p>
        </div>
      </div>`
    ).join('');
  })
  .catch(err => {
    console.error('Error fetching articles:', err);
  });

  </script>
        </div>
      </section>
      </body>
      </html>
  </body>
  </html>